%div.col-lg-12.row
  %div.container.info
    %div.section-info.clearfix
      %h1.white Latest Paycoin Blocks

-if @announcements != nil
  - @announcements.each do |announcement|
    %div.col-lg-12.row
      %div.col-lg-2.clearfix
      %div.col-lg-8.clearfix
        .alert{:class => 'alert-dismissable alert-info', role: 'alert', "data-dismiss" => 'alert' }
          %button.close{ :type => 'button', :data => { :dismiss => 'alert' } } x
          #{announcement.announcement}
      %div.col-lg-2.clearfix

%div.col-lg-12
  %div.col-lg-2.clearfix
    = javascript_include_tag "//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js", :async => true
    %ins{:class=>"adsbygoogle", :style=>"display:block",
      'data-ad-client'=>"ca-pub-3918557346386109",
      'data-ad-slot'=>"4748001338",
      'data-ad-format'=>"auto"}
    :javascript
      (adsbygoogle = window.adsbygoogle || []).push({});

  %div.col-lg-8
    %div.panel
      %table.table.table-responsive
        %thead
          %tr
            %th Block Height
            %th Hash
            %th.small-table-tx Transactions
            %th Total Output
            %th.small-table-time Time

        %tbody
          - @blocks.each do |block|
            %tr
              %td= link_to block.height.to_s, 'block/' << block.blockHash.to_s
              %td
                %code.hash
                  = link_to block.blockHash.to_s, 'block/' << block.blockHash.to_s
              %td.small-table-tx
                = (block.transactions.length).to_s
              %td
                = total_out(block)
              %td.small-table-time
                - t = ActiveSupport::TimeZone["UTC"].parse(block.blockTime.to_s[0..18])
                = time_ago_in_words(local_time(t))

  %div.col-lg-2.clearfix
    = javascript_include_tag "//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js", :async => true
    %ins{:class=>"adsbygoogle", :style=>"display:block",
      'data-ad-client'=>"ca-pub-3918557346386109",
      'data-ad-slot'=>"4748001338",
      'data-ad-format'=>"auto"}
    :javascript
      (adsbygoogle = window.adsbygoogle || []).push({});

%div.col-lg-12
  .col-lg-2.clearfix
  .col-lg-4.pull-left.white
    %h4 Copyright &copy; 2016
  .col-lg-4.pull-right.white
    %div
      %h4
        BTC Donations:
        %code
          = ENV['BTC_ADDRESS']
    %div
      %h4
        XPY Donations:
        %code
          = ENV['XPY_ADDRESS']
    %div
      All donations greatly appreciated and help keep the servers online
  .col-lg-2.clearfix
